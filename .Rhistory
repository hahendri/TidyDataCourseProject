}
repository(owner: "jtleek", name: "datasharing") {
name
createdAt
}
req <- GET("https://api.github.com/users/jtleek/repos/datasharing", gtoken)
stop_for_status(req)
cont_repo <- content(req)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
cont_repo <- content(req)
json1 = content(cont_repo)
json2 = jsonlite::fromJSON(toJSON(json1))
library(jsonlite)
json1 = content(cont_repo)
json2 = jsonlite::fromJSON(toJSON(json1))
find_date <- function(x,url) {
if (x$html_url == url) {
print(x$created_at)
}
}
lapply(cont_repo,find_date,url ="https://github.com/jtleek/datasharing")
install.packages("sqldf")
library(sqldf)
if (!file.exists("data")) {
dir.create("data")
}
file_url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(file_url, destfile = "./data/acs.csv")
dateDownloaded <- date()
dateDownloaded
acs <- read.csv("./data/acs.csv")
sqldf("select pwgtp1 from acs where AGEP < 50")
f1 <- sqldf("select pwgtp1 from acs where AGEP < 50")
f2 <- sqldf("select * from acs")
f3 <- sqldf("select pwgtp1 from acs")
f4 <- sqldf("select * from acs where AGEP < 50 and pwgtp1")
f2
f3
head(f3)
head(f1)
str(f1)
str(f2)
?sqldf
?close
library(httr)
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode
html_lines <- c(10, 20, 30, 100)
for (i in html_lines) {
nchar(htmlCode[i])
}
html_lines <- c(10, 20, 30, 100)
x <- nchar()
for (i in html_lines) {
nchar(htmlCode[i])
}
x
x
x = nchar()
for (i in html_lines) {
nchar(htmlCode[i])
}
x
html_lines <- c(10, 20, 30, 100)
l = list()
for (i in html_lines) {
l(i) <- nchar(htmlCode[i])
}
l
html_lines <- c(10, 20, 30, 100)
l = list()
for (i in html_lines) {
l(i) = nchar(htmlCode[i])
}
l
html_lines <- c(10, 20, 30, 100)
l = list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
l(i) = as.list(num)
}
l
html_lines <- c(10, 20, 30, 100)
l = as.list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
l(i) = as.list(num)
}
l
html_lines <- c(10, 20, 30, 100)
l = as.list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
l(num)
}
l
html_lines <- c(10, 20, 30, 100)
L <- list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
l[[paste0("element", i] <- num
}
l
html_lines <- c(10, 20, 30, 100)
L <- list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
l[[paste0("element", i]] <- num
}
l
html_lines <- c(10, 20, 30, 100)
L <- list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
l[[paste0("element", i]] <- num
}
l
?nchar
html_lines <- c(10, 20, 30, 100)
C <- c()
for (i in html_lines) {
num <- nchar(htmlCode[i])
C[[paste0("element", i]] <- num
}
C
html_lines <- c(10, 20, 30, 100)
C <- list()
for (i in html_lines) {
num <- nchar(htmlCode[i])
C[[paste0("element", i)]] <- num
}
C
library(readr)
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for")
?read_fwf
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for",
skip = 4, widths = c(12, 7, 4, 9, 4, 9, 4, 9, 4))
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", widths = c(12, 7, 4, 9, 4, 9, 4, 9, 4))
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for",
skip=4,
widths=c(12, 7, 4, 9, 4, 9, 4, 9, 4))
head(x)
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for",
skip=4)
head(x)
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for",
col_positions = c(12,7,4,9,4,9,4,9,NA))
head(x)
x <- read_fwf(
file="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for",
col_positions = NA)
head(x)
x <- read.fwf(
file=url("http://www.cpc.ncep.noaa.gov/data/indices/wksst8110.for"),
skip=4,
widths=c(12, 7, 4, 9, 4, 9, 4, 9, 4))
head(x)
x <- read.fwf(
file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=4,
widths=c(12, 7, 4, 9, 4, 9, 4, 9, 4))
head(x)
sum(x[,4])
library(lubridate)
library(swirl)
swirl()
Sys.getlocale("LC_TIME")
library(lubridate)
help(package = lubridate)
today()
this_day <- today()
this_day
day(this_day)
wday(this_day)
wday(this_day, label = TRUE)
this_moment <- now()
this_moment
minute(this-this_moment)
minute(this_moment)
my_date <- ymd("1989-05-17")
my_date
class(my_date)
ymd("1989 May 17")
mdy("March 12, 1975")
dmy(25081985)
ymd("192012")
ymd("1920/1/2")
dt1
ymd_hms(dt1)
hms(03:22:14)
hms("03:22:14")
dt2
ymd(dt2)
update(this_moment, hours = 8, minutes = 34, seconds = 55)
this_moment
this_moment <- update(this_moment)
this_moment <- update(this_moment, hours = 10, minutes = 16, seconds = 0)
this_moment
nyc <- now("America/New_York")
nyc
depart <- nyc + days(2)
depart
depart <- update(depart, hours = 17, minutes = 34)
depart
arrive <- depart + hours(15) + minutes(50)
?with_tz
arrive <- with_tz(arrive, tzone = "Asia/Hong_Kong")
arrive
last_time <- ymd("June 17, 2008", tzone = "Asia/Singapore")
last_time <- mdy("June 17, 2008", tzone = "Asia/Singapore")
last_time <- mdy("June 17, 2008", tz = "Asia/Singapore")
last_time <- mdy("June 17, 2008", tz = "Singapore")
last_time
?interval()
?interval
how_long <- interval(last_time, arrive)
as.period(how_long)
stopwatch()
taztest_data <- read.table("./data/total_acc_z_test.txt")
setwd("S:/Shared Documents/Data Science/Data Science - Johns Hopkins University/3 Getting and Cleaning Data/Week 4/Course Project")
##Set Working Directory
setwd("S:/Shared Documents/Data Science/Data Science - Johns Hopkins University/
3 Getting and Cleaning Data/Week 4/Course Project")
##Install dplyr library
library(dplyr)
##Read all data files into tables
baxtest_data <- read.table("./data/body_acc_x_test.txt")
baxtrain_data <- read.table("./data/body_acc_x_train.txt")
baytest_data <- read.table("./data/body_acc_y_test.txt")
baytrain_data <- read.table("./data/body_acc_y_train.txt")
baztest_data <- read.table("./data/body_acc_z_test.txt")
baztrain_data <- read.table("./data/body_acc_z_train.txt")
bgxtest_data <- read.table("./data/body_gyro_x_test.txt")
bgxtrain_data <- read.table("./data/body_gyro_x_train.txt")
bgytest_data <- read.table("./data/body_gyro_y_test.txt")
bgytrain_data <- read.table("./data/body_gyro_y_train.txt")
bgztest_data <- read.table("./data/body_gyro_z_test.txt")
bgztrain_data <- read.table("./data/body_gyro_z_train.txt")
taxtest_data <- read.table("./data/total_acc_x_test.txt")
taxtrain_data <- read.table("./data/total_acc_x_train.txt")
taytest_data <- read.table("./data/total_acc_y_test.txt")
taytrain_data <- read.table("./data/total_acc_y_train.txt")
taztest_data <- read.table("./data/total_acc_z_test.txt")
taztrain_data <- read.table("./data/total_acc_z_train.txt")
names(baxtest_data)
names(baxtrain_data)
names(baytrain_data)
head(baxtest_data)
View(baxtest_data)
View(baytest_data)
if (!file.exists("data")) {
dir.create("data")
}
?download.file
fileurl = "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if (!file.exists("data")) {
dir.create("data")
download.file(fileurl, destfile = "./data/UCI HAR Dataset.zip", mode = "wb")
unzip("./data/UCI HAR Dataset.zip", exdir = "./data")
}
fileurl = "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
if (!file.exists("data")) {
dir.create("data")
}
download.file(fileurl, destfile = "./data/UCI HAR Dataset.zip", mode = "wb")
unzip("./data/UCI HAR Dataset.zip", exdir = "./data")
list.files("./data/UCI HAR Dataset")
xtest_data <- read.table("./data/UCI HAR Dataset/test/X_test.txt")
xtrain_data <- read.table("./data/UCI HAR Dataset/train/X_train.txt")
ytest_data <- read.table("./data/UCI HAR Dataset/test/y_test.txt")
ytrain_data <- read.table("./data/UCI HAR Dataset/train/y_train.txt")
stest_data <- read.table("./data/UCI HAR Dataset/test/subject_test.txt")
strain_data <- read.table("./data/UCI HAR Dataset/train/subject_train.txt")
names(strain_data)
names(xtest_data)
str(ytest_data)
head(ytest_data, 30)
head(ytrain_data, 50)
head(strain_data, 50)
head(strain_data, 150)
##rbind data frames and remove originals
x_data <- bind_rows(xtest_data, xtrain_data)
rm(xtest_data, xtrain_data)
y_data <- bind_rows(ytest_data, ytrain_data)
rm(ytest_data, ytrain_data)
s_data <- bind_rows(stest_data, strain_data)
rm(stest_data, strain_data)
##Get x_data variable names
x_features <- read.table(".data/UCI HAR Dataset/features.txt")
##Get x_data variable names
x_features <- read.table("./data/UCI HAR Dataset/features.txt")
names(x_features)
head(x_features)
head(x_features, 100)
str(x_features)
?mutate_at
x_features %>% mutate_at(funs(as.character), $V2)
x_features %>% mutate_at(funs(as.character), V2)
class(x_features$V2)
##Get x_data variable names as character vector
x_features <- read.table("./data/UCI HAR Dataset/features.txt", stringsAsFactors = FALSE)
str(x_features)
x_names <- x_features$V2
names(x_data)
## Replace x_data names with x_names
names(x_data) <- x_names
names(x_data)
str(y_data)
head(y_data, 100)
y_data$V1
##replace y_data name with "activity"
names(y_data) <- c("activity")
y_data
str(y_data)
s_data
##replace s_data colname with "subject"
names(s_data) <- c("subject")
str(s_data)
?meld
?merge
##cbind all three data frames into one
tidydata_1 <- cbind(s_data, y_data, x_data)
str(tidydata_1)
rm(s_data, y_data, x_data)
xtest_data <- read.table("./data/UCI HAR Dataset/test/X_test.txt")
xtrain_data <- read.table("./data/UCI HAR Dataset/train/X_train.txt")
ytest_data <- read.table("./data/UCI HAR Dataset/test/y_test.txt")
ytrain_data <- read.table("./data/UCI HAR Dataset/train/y_train.txt")
stest_data <- read.table("./data/UCI HAR Dataset/test/subject_test.txt")
strain_data <- read.table("./data/UCI HAR Dataset/train/subject_train.txt")
##rbind data frames and remove originals
x_data <- bind_rows(xtest_data, xtrain_data)
rm(xtest_data, xtrain_data)
y_data <- bind_rows(ytest_data, ytrain_data)
rm(ytest_data, ytrain_data)
s_data <- bind_rows(stest_data, strain_data)
rm(stest_data, strain_data)
##Get x_data variable names as character vector
x_features <- read.table("./data/UCI HAR Dataset/features.txt", stringsAsFactors = FALSE)
x_names <- x_features$V2
## Replace x_data colnames with x_names
names(x_data) <- x_names
##replace y_data colname with "activity"
names(y_data) <- c("activity")
##replace s_data colname with "subject"
names(s_data) <- c("subject")
##cbind all three data frames into one and remove individual data frames
df <- cbind(s_data, y_data, x_data)
rm(s_data, y_data, x_data)
str(df)
##replace row values in "activity" column with activites
activity <- read.table("./data/UCI HAR Dataset/activity_labels.txt")
str(activity)
merge(df, activity, by = "activity")
merge(df, activity, by = "activity_type")
merge(df, activity, by.x = "activity", by.y = "V2", all = TRUE)
df_2 <- merge(df, activity, by.x = "activity", by.y = "V2", all = TRUE)
str(df_2)
head(df_2[,1:2], 100)
df_2 <- merge(df, activity, by = "V1", all = TRUE)
str(activity)
activity
df$activity <- activity[,1][df$activity]
str(df)
df$activity <- activity[,2][df$activity]
str(df)
activity
str(activity)
df2 <- merge(df, activity, by = "V1", all.x = TRUE)
df2 <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
head(df2)
str(df2)
head(df2[,1:2], 100)
str(df2)
names(df2)
df2[,564]
df2 <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = FALSE)
View(df_2)
rm(df_2)
df2 <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
rm(df2)
df <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
df <- df[,1:563]
name(df)
names(df)
df2 <- setnames(df, tolower(names(df)))
df2 <- tolower(names(df)))
df2 <- tolower(names(df))
str(df2)
rm(df2)
lc <- tolower(names(df))
names(df) <- tolower(names(df))
str(df)
rm(lc)
##select only mean and standard deviation for measurements
tidydata_1 <- select(df, 1:2, contains("mean"|"std"))
##select only mean and standard deviation for measurements
tidydata_1 <- select(df, 1:2, contains(c("mean", "std")))
##select only mean and standard deviation for measurements
tidydata_1 <- select(df, 1:2, contains("mean"), contains "std"))
##select only mean and standard deviation for measurements
tidydata_1 <- select(df, 1:2, contains("mean"), contains ("std"))
tidydata_1
str(tidydata_1)
write.table(tidydata_1, "./tidydata_1.txt")
dcast?
melt?
gsub?
?dcast
?gsub
?melt
?dcast
##Arrange by subject and activity
tidydata_2 <- arrange(tidydata_1, subject, activity)
head(tidydata_2, 300)
head(tidydata_2[,1:2], 150)
str(tidydata_1)
tidydata_1 <- select(df, 2, 1, contains("mean"), contains ("std"))
write.table(tidydata_1, "./tidydata_1.txt")
str(tidydata_1)
##Arrange by subject and activity
tidydata_2 <- arrange(tidydata_1, subject, activity)
tidydata_2[,1:2]
tolower(tidydata_2[,2])
activity[,2] <- tolower(activity[,2])
activity
df <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
df <- df[,1:563]
names(df) <- tolower(names(df))
tidydata_1 <- select(df, 2, 1, contains("mean"), contains ("std"))
write.table(tidydata_1, "./tidydata_1.txt")
tidydata_1[,1:2]
str(df)
activity
rm(df)
xtest_data <- read.table("./data/UCI HAR Dataset/test/X_test.txt")
xtrain_data <- read.table("./data/UCI HAR Dataset/train/X_train.txt")
ytest_data <- read.table("./data/UCI HAR Dataset/test/y_test.txt")
ytrain_data <- read.table("./data/UCI HAR Dataset/train/y_train.txt")
stest_data <- read.table("./data/UCI HAR Dataset/test/subject_test.txt")
strain_data <- read.table("./data/UCI HAR Dataset/train/subject_train.txt")
##rbind data frames and remove originals
x_data <- bind_rows(xtest_data, xtrain_data)
rm(xtest_data, xtrain_data)
y_data <- bind_rows(ytest_data, ytrain_data)
rm(ytest_data, ytrain_data)
s_data <- bind_rows(stest_data, strain_data)
rm(stest_data, strain_data)
##Get x_data variable names as character vector
x_features <- read.table("./data/UCI HAR Dataset/features.txt", stringsAsFactors = FALSE)
x_names <- x_features$V2
## Replace x_data colnames with x_names
names(x_data) <- x_names
##replace y_data colname with "activity"
names(y_data) <- c("activity")
##replace s_data colname with "subject"
names(s_data) <- c("subject")
##cbind all three data frames into one and remove individual data frames
df <- cbind(s_data, y_data, x_data)
rm(s_data, y_data, x_data)
##replace row values in "activity" column with activites and make all cols lower case
activity <- read.table("./data/UCI HAR Dataset/activity_labels.txt")
activity[,2] <- tolower(activity[,2])
activity
df <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
df
str(df)
df[,1:@]
df[,1:2]
df <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
df <- df[,1:563]
names(df) <- tolower(names(df))
str(df)
xtest_data <- read.table("./data/UCI HAR Dataset/test/X_test.txt")
xtrain_data <- read.table("./data/UCI HAR Dataset/train/X_train.txt")
ytest_data <- read.table("./data/UCI HAR Dataset/test/y_test.txt")
ytrain_data <- read.table("./data/UCI HAR Dataset/train/y_train.txt")
stest_data <- read.table("./data/UCI HAR Dataset/test/subject_test.txt")
strain_data <- read.table("./data/UCI HAR Dataset/train/subject_train.txt")
##rbind data frames and remove originals
x_data <- bind_rows(xtest_data, xtrain_data)
rm(xtest_data, xtrain_data)
y_data <- bind_rows(ytest_data, ytrain_data)
rm(ytest_data, ytrain_data)
s_data <- bind_rows(stest_data, strain_data)
rm(stest_data, strain_data)
##Get x_data variable names as character vector
x_features <- read.table("./data/UCI HAR Dataset/features.txt", stringsAsFactors = FALSE)
x_names <- x_features$V2
names(x_data) <- x_names
##replace y_data colname with "activity"
names(y_data) <- c("activity")
names(s_data) <- c("subject")
df <- cbind(s_data, y_data, x_data)
rm(s_data, y_data, x_data)
activity <- read.table("./data/UCI HAR Dataset/activity_labels.txt")
activity[,2] <- tolower(activity[,2])
activity
df <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
str(df)
activity <- read.table("./data/UCI HAR Dataset/activity_labels.txt")
activity
df <- merge(df, activity, by.x = "activity", by.y = "V1", all.x = TRUE)
df[,1]
